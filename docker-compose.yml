services:
  client:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        # Vazio = app usa URLs relativas; nginx faz proxy para BACKEND_URL
        - VITE_API_URL=
        - VITE_SERVER_URL=
        - VITE_STRIPE_PUBLIC_KEY=
    ports:
      - "3000:80"
    environment:
      # URL do backend (API). Ajuste a porta se o backend usar outra.
      - BACKEND_URL=http://host.docker.internal:5000
    # No Linux, host.docker.internal precisa do extra_hosts abaixo
    extra_hosts:
      - "host.docker.internal:host-gateway"
    restart: unless-stopped
